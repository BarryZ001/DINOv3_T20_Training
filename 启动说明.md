# DINOv3 T20 训练启动说明

## 统一启动脚本

为了避免混淆，项目现在只使用一个启动脚本：

**`launch_deepspeed_t20.sh`** - 燧原T20 DeepSpeed训练启动脚本

## 使用方法

```bash
# 在项目根目录下执行
./launch_deepspeed_t20.sh
```

## 脚本特性

1. **环境配置**：自动设置燧原GCU环境变量
2. **FusedAdam禁用**：包含完整的环境变量设置，解决GCU兼容性问题
3. **DeepSpeed配置**：自动生成优化的DeepSpeed配置文件
4. **8卡分布式**：支持8卡分布式训练

## 环境变量说明

脚本会自动设置以下关键环境变量：
- `DS_BUILD_FUSED_ADAM=0` - 禁用FusedAdam构建
- `DEEPSPEED_DISABLE_FUSED_ADAM=1` - 禁用FusedAdam优化器
- `DS_BUILD_CPU_ADAM=1` - 启用CPU版本Adam
- `DS_BUILD_UTILS=0` - 禁用CUDA工具
- `DS_BUILD_AIO=0` - 禁用异步IO
- `DS_BUILD_SPARSE_ATTN=0` - 禁用稀疏注意力

## 注意事项

- 确保在T20服务器上运行
- 确保已安装所有依赖包
- 确保数据集路径正确配置